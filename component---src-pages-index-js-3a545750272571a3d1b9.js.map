{"version":3,"sources":["webpack:///./src/components/Body.js","webpack:///./src/components/header.js","webpack:///./src/components/DangerousHTML.js","webpack:///./src/utils/localStorage.js","webpack:///./src/components/FavoriteStar.js","webpack:///./src/components/WasteWizardEntries.js","webpack:///./src/components/Favorites.js","webpack:///./src/components/SearchResults.js","webpack:///./src/utils/trie.js","webpack:///./src/utils/dataManager.js","webpack:///./src/components/SearchBar.js","webpack:///./src/pages/index.js","webpack:///./src/components/header.module.css","webpack:///./src/components/search.module.css","webpack:///./src/components/searchResults.module.css"],"names":["Body","_ref","children","react_default","a","createElement","style","margin","maxWidth","padding","header","className","styles","DangerHTML","htmlDecode","input","e","document","innerHTML","childNodes","length","nodeValue","render","this","props","dangerouslySetInnerHTML","__html","content","React","Component","LocalStorage","set","key","value","window","localStorage","setItem","JSON","stringify","getWrapper","getItem","obtain","options","toObtain","isCreateOptionEnabled","createIfMissing","parse","undefined","COLORS","ON","OFF","FavoriteStar","_this","_React$Component","call","initialize","checkIfActivated","activate","saveToLocalStorage","entry","toUpdate","push","deleteFromLocalStorage","filter","entryStored","title","localeCompare","isFavorited","forEach","item","state","toggleColor","isActive","deactivate","toggleLocalStorage","desc","toggleFavorite","update","color","componentDidMount","_this2","setState","onClick","WasteWizardEntries","renderStar","favorite","column","star","components_FavoriteStar","renderEntryTitle","left","renderEntryDescription","DangerousHTML","right","renderEntries","entries","map","row","container","Favorites","loadFavorites","favorites","componentDidUpdate","prevProps","renderFavoritesHeader","marginTop","renderFavorites","components_WasteWizardEntries","SearchResults","updateSearchResults","search","searchResults","components_Favorites","trieNode","parent","endOfWord","getWord","output","node","unshift","join","trie","root","insert","word","i","findAllWords","arr","child","prefix","WasteWizardDataManager","storeKeywordsInTrie","Object","keys","keywordDictionary","keyword","keywords","mapWasteWizardKeywords","wasteWizardJson","wasteWizardObject","allWastewizardJson","edges","wasteEntry","sanAndTok","toLowerCase","split","trim","Trie","KEYBOARD","ENTER","SearchBar","submitSearch","searchQuery","results","DataManager","titlesToEntries","submitNoResults","handleChange","event","target","clearSearchResults","keyPress","keyCode","currentResults","concat","updatedResults","storedEntry","entryTitles","body","onKeyDown","onChange","type","placeholder","name","components_SearchResults","__webpack_require__","d","__webpack_exports__","query","data","components_SearchBar","module","exports"],"mappings":"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","file":"component---src-pages-index-js-3a545750272571a3d1b9.js","sourcesContent":["import React from \"react\";\r\n\r\nexport default ({ children }) => (\r\n  <div\r\n    style={{\r\n      margin: `3rem auto`,\r\n      maxWidth: 950,\r\n      padding: `0 1rem`\r\n    }}\r\n  >\r\n    {children}\r\n  </div>\r\n);\r\n","import React from \"react\";\r\nimport styles from \"./header.module.css\";\r\n\r\nexport default ({ children }) => (\r\n  <div className = {styles.header}  >\r\n    {children}\r\n  </div>\r\n);\r\n","import React from \"react\";\r\n\r\n/**\r\n * convert text to html\r\n */\r\nclass DangerHTML extends React.Component {\r\n  htmlDecode(input) {\r\n    var e = document.createElement(\"div\");\r\n    e.innerHTML = input;\r\n    return e.childNodes.length === 0 ? \"\" : e.childNodes[0].nodeValue;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className={this.props.style}\r\n        dangerouslySetInnerHTML={{\r\n          __html: this.htmlDecode(this.props.content)\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default DangerHTML;\r\n","import React from \"react\";\r\n\r\n/**\r\n * utility to save data to disk\r\n */\r\nclass LocalStorage extends React.Component {\r\n  static set(key, value) {\r\n    //localStorage undefined during build\r\n    if (typeof window !== \"undefined\") {\r\n      localStorage.setItem(key, JSON.stringify(value));\r\n    }\r\n  }\r\n\r\n  static getWrapper(key) {\r\n    //localStorage undefined during build\r\n    if (typeof window !== \"undefined\") {\r\n      return localStorage.getItem(key);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * get data from disk with the option to return a new array instead of null if nothing is found\r\n   **/\r\n\r\n  static obtain(key, options) {\r\n    let toObtain = this.getWrapper(key);\r\n    let defaultOptions = { createIfMissing: false };\r\n\r\n    if (!this.isCreateOptionEnabled(options)) {\r\n      options = defaultOptions;\r\n    }\r\n\r\n    if (toObtain === null) {\r\n      if (options.createIfMissing === true) {\r\n        return [];\r\n      }\r\n    } else {\r\n      toObtain = JSON.parse(toObtain);\r\n    }\r\n\r\n    return toObtain;\r\n  }\r\n\r\n  /**\r\n   * check that options are enabled\r\n   */\r\n  static isCreateOptionEnabled(options) {\r\n    if (options !== undefined) {\r\n      if (options.createIfMissing !== undefined) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n}\r\n\r\nexport default LocalStorage;\r\n","import React from \"react\";\r\nimport LocalStorage from \"../utils/localStorage\";\r\n\r\nconst COLORS = {\r\n  ON: \"#56ca90\",\r\n  OFF: \"grey\"\r\n};\r\n\r\nclass FavoriteStar extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      title: \"\",\r\n      desc: \"\",\r\n      color: COLORS.OFF,\r\n      isActive: false\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState(\r\n      {\r\n        title: this.props.title,\r\n        desc: this.props.desc\r\n      },\r\n      () => this.initialize()\r\n    );\r\n  }\r\n  \r\n  initialize = () => {\r\n    if (this.checkIfActivated() === true) {\r\n      this.activate();\r\n    }\r\n  };\r\n\r\n  activate() {\r\n    this.setState({\r\n      color: COLORS.ON,\r\n      isActive: true\r\n    });\r\n  }\r\n\r\n  deactivate() {\r\n    this.setState({\r\n      color: COLORS.OFF,\r\n      isActive: false\r\n    });\r\n  }\r\n\r\n  saveToLocalStorage = entry => {\r\n    let toUpdate = LocalStorage.obtain(\"favorites\", { createIfMissing: true });\r\n    toUpdate.push(entry);\r\n    LocalStorage.set(\"favorites\", toUpdate);\r\n  };\r\n\r\n  deleteFromLocalStorage = entry => {\r\n    let loadFavorites = LocalStorage.obtain(\"favorites\");\r\n    let toUpdate = loadFavorites.filter(entryStored => entryStored.title.localeCompare(entry.title) !== 0);\r\n\r\n    LocalStorage.set(\"favorites\", toUpdate);\r\n  };\r\n\r\n  checkIfActivated = () => {\r\n    let isFavorited = false;\r\n\r\n    LocalStorage.obtain(\"favorites\", { createIfMissing: true }).forEach(\r\n      item => {\r\n        if (this.state.title.localeCompare(item.title) === 0) {\r\n          isFavorited = true;\r\n        }\r\n      }\r\n    );\r\n\r\n    return isFavorited;\r\n  };\r\n\r\n  toggleColor = () => {\r\n    if (this.state.isActive === false) {\r\n      this.activate();\r\n    } else {\r\n      this.deactivate();\r\n    }\r\n  };\r\n\r\n  toggleLocalStorage = () => {\r\n    if (this.state.isActive === false) {\r\n      this.saveToLocalStorage({\r\n        title: this.state.title,\r\n        desc: this.state.desc\r\n      });\r\n    } else {\r\n      this.deleteFromLocalStorage({\r\n        title: this.state.title,\r\n        desc: this.state.desc\r\n      });\r\n    }\r\n  };\r\n\r\n  toggleFavorite = () => {\r\n    this.toggleColor();\r\n    this.toggleLocalStorage();\r\n    this.props.update(); //update parents\r\n  };\r\n\r\n  render() {\r\n    return (\r\n        <i onClick={this.toggleFavorite} className={`fa fa-star`} style={{ color: this.state.color }} />\r\n    );\r\n  }\r\n}\r\n\r\nexport default FavoriteStar;\r\n","import React from \"react\";\r\nimport DangerousHTML from \"./DangerousHTML\";\r\nimport FavoriteStar from \"./FavoriteStar\";\r\nimport styles from \"./searchResults.module.css\";\r\n\r\n/**\r\n * renders lists of waste wizard entries\r\n */\r\nclass WasteWizardEntries extends React.Component {\r\n  renderStar(favorite) {\r\n    return (\r\n      <div className={`${styles.column} ${styles.star}`}>\r\n        <FavoriteStar\r\n          title={favorite.title}\r\n          desc={favorite.desc}\r\n          update={this.props.update}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderEntryTitle(title) {\r\n    return <div className={`${styles.column} ${styles.left}`}>{title}</div>;\r\n  }\r\n\r\n  renderEntryDescription(desc) {\r\n    return (\r\n      <DangerousHTML\r\n        style={`${styles.column} ${styles.right}`}\r\n        content={desc}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderEntries() {\r\n    return this.props.entries.map((entry, key) => (\r\n      <div key={key} className={`${styles.row} ${styles.container}`}>\r\n        {this.renderStar(entry)}\r\n        {this.renderEntryTitle(entry.title)}\r\n        {this.renderEntryDescription(entry.desc)}\r\n      </div>\r\n    ));\r\n  }\r\n\r\n  render() {\r\n    return this.renderEntries();\r\n  }\r\n}\r\n\r\nexport default WasteWizardEntries;\r\n","import React from \"react\";\r\nimport WasteWizardEntries from \"./WasteWizardEntries\";\r\nimport LocalStorage from \"../utils/localStorage\";\r\n\r\nclass Favorites extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      favorites: LocalStorage.obtain(\"favorites\", { createIfMissing: true })\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.entries !== prevProps.entries) {\r\n      this.update();\r\n    }\r\n  }\r\n\r\n  renderFavoritesHeader() {\r\n    if (this.state.favorites.length > 0) {\r\n      return <h1 style={{ color: `#56ca90`, marginTop: `20px` }}>Favorites</h1>;\r\n    }\r\n  }\r\n\r\n  update = () => {\r\n    const loadFavorites = LocalStorage.obtain(\"favorites\");\r\n    //leave it like this important\r\n    this.setState({ favorites: [] }, () =>\r\n      this.setState({ favorites: loadFavorites })\r\n    );\r\n    this.props.update();\r\n  };\r\n\r\n  renderFavorites() {\r\n    return (\r\n      <WasteWizardEntries entries={this.state.favorites} update={this.update} />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.renderFavoritesHeader()}\r\n        {this.renderFavorites()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Favorites;\r\n","import React from \"react\";\r\nimport WasteWizardEntries from \"./WasteWizardEntries\";\r\nimport Favorites from \"./Favorites\";\r\nimport LocalStorage from \"../utils/localStorage\";\r\n\r\nclass SearchResults extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      search: \"\",\r\n      favorites: LocalStorage.obtain(\"favorites\", { createIfMissing: true })\r\n    };\r\n  }\r\n\r\n  update = () => {\r\n    const loadFavorites = LocalStorage.obtain(\"favorites\");\r\n    this.setState({ favorites: loadFavorites });\r\n  };\r\n\r\n  updateSearchResults = () => {\r\n    this.props.update();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <WasteWizardEntries\r\n          entries={this.props.searchResults}\r\n          update={this.update}\r\n        />\r\n        <Favorites\r\n          entries={this.state.favorites}\r\n          update={this.updateSearchResults}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchResults;\r\n","/**\r\n * Attribution:\r\n * Source: https://gist.github.com/tpae/72e1c54471e88b689f85ad2b3940a8f0\r\n * Author: Terence Pae\r\n * Link: https://gist.github.com/tpae\r\n * Modified by: George Savchenko\r\n * Needed a prefix tree to do the search\r\n */\r\n\r\nclass trieNode {\r\n  constructor(key) {\r\n    this.key = key; //character in sequence\r\n    this.parent = null;\r\n    this.children = {};\r\n    this.endOfWord = false;\r\n  }\r\n\r\n  //iterate through parents to get word\r\n  getWord() {\r\n    let output = [];\r\n    let node = this;\r\n\r\n    while (node !== null) {\r\n      output.unshift(node.key);\r\n      node = node.parent;\r\n    }\r\n\r\n    return output.join(\"\");\r\n  }\r\n}\r\n\r\nclass trie {\r\n  constructor() {\r\n    this.root = new trieNode(null);\r\n  }\r\n\r\n  //insert word into trie\r\n  insert(word) {\r\n    var node = this.root; // start at the root\r\n\r\n    // for every character in the word\r\n    for (var i = 0; i < word.length; i++) {\r\n      // check to see if character node exists in children.\r\n      if (!node.children[word[i]]) {\r\n        // if it doesn't exist, we then create it.\r\n        node.children[word[i]] = new trieNode(word[i]);\r\n\r\n        // we also assign the parent to the child node.\r\n        node.children[word[i]].parent = node;\r\n      }\r\n\r\n      // proceed to the next depth in the trie.\r\n      node = node.children[word[i]];\r\n\r\n      // finally, we check to see if it's the last word.\r\n      if (i === word.length - 1) {\r\n        // if it is, we set the end flag to true.\r\n        node.endOfWord = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  // recursive function to find all words in the given node.\r\n  findAllWords(node, arr) {\r\n    // base case, if node is at a word, push to output\r\n    if (node.endOfWord) {\r\n      arr.unshift(node.getWord());\r\n    }\r\n\r\n    // iterate through each children, call recursive findAllWords\r\n    for (var child in node.children) {\r\n      this.findAllWords(node.children[child], arr);\r\n    }\r\n  }\r\n\r\n  // returns every word with given prefix\r\n  search(prefix) {\r\n    var node = this.root;\r\n    var output = [];\r\n\r\n    // for every character in the prefix\r\n    for (var i = 0; i < prefix.length; i++) {\r\n      // make sure prefix actually has words\r\n      if (node.children[prefix[i]]) {\r\n        node = node.children[prefix[i]];\r\n      } else {\r\n        // there's none. just return it.\r\n        return output;\r\n      }\r\n    }\r\n\r\n    // recursively find all words in the node\r\n    this.findAllWords(node, output);\r\n\r\n    return output;\r\n  }\r\n}\r\n\r\nexport default trie;\r\n","import Trie from \"../utils/trie\";\r\n\r\n/**\r\n * Utility class to manage the Waste Wizard Data\r\n */\r\n\r\nclass WasteWizardDataManager {\r\n  /**\r\n   * Store the keywords into a Trie for searching\r\n   */\r\n  static storeKeywordsInTrie() {\r\n    Object.keys(this.keywordDictionary).forEach(keyword => {\r\n      this.keywords.insert(keyword);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Map the keywords strings of the entries into a dictionary for faster access\r\n   */\r\n  static mapWasteWizardKeywords(wasteWizardJson) {\r\n    const wasteWizardObject = wasteWizardJson.allWastewizardJson.edges;\r\n\r\n    Object.keys(wasteWizardObject).forEach(key => {\r\n      const wasteEntry = wasteWizardObject[key].node;\r\n\r\n      this.sanAndTok(wasteEntry.keywords).forEach(key => {\r\n        this.keywordDictionary[key] = wasteEntry;\r\n      });\r\n    });\r\n\r\n    this.storeKeywordsInTrie();\r\n  }\r\n\r\n  /**\r\n   * Convert the keyword strings to lowercase, tokenize them and trim the white spaces off the edges\r\n   */\r\n  static sanAndTok(keywords) {\r\n    const toLower = keywords.toLowerCase();\r\n    const tokenize = toLower.split(\",\");\r\n    const trimTokenized = tokenize.map(key => key.trim());\r\n\r\n    return trimTokenized;\r\n  }\r\n}\r\n\r\nWasteWizardDataManager.keywordDictionary = {};\r\nWasteWizardDataManager.keywords = new Trie();\r\n\r\nexport default WasteWizardDataManager;\r\n","import React from \"react\";\r\nimport \"font-awesome/css/font-awesome.min.css\";\r\nimport styles from \"./search.module.css\";\r\nimport SearchResults from \"./SearchResults\";\r\nimport DataManager from \"../utils/dataManager\";\r\nimport LocalStorage from \"../utils/localStorage\";\r\n\r\nconst KEYBOARD = {\r\n  ENTER: 13\r\n};\r\n\r\nclass SearchBar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      input: \"\",\r\n      searchResults: []\r\n    };\r\n  }\r\n\r\n  titlesToEntries(entryTitles) {\r\n    return entryTitles.map(title => {\r\n      return {\r\n        title: title,\r\n        desc: DataManager.keywordDictionary[title].body\r\n      };\r\n    });\r\n  }\r\n\r\n  submitSearch = searchQuery => {\r\n    const results = DataManager.keywords.search(searchQuery.toLowerCase());\r\n    const entries = this.titlesToEntries(results);\r\n\r\n    if (searchQuery === \"\") {\r\n      this.submitNoResults();\r\n    } else if (\r\n      entries.length === 0 &&\r\n      searchQuery.localeCompare(\"default\") !== 0\r\n    ) {\r\n      this.submitNoResults();\r\n    } else {\r\n      this.setState({ searchResults: entries });\r\n    }\r\n  };\r\n\r\n  handleChange = event => {\r\n    this.setState({ input: event.target.value });\r\n    if (event.target.value === \"\") {\r\n      this.clearSearchResults();\r\n    }\r\n  };\r\n\r\n  keyPress = event => {\r\n    if (event.keyCode === KEYBOARD.ENTER) {\r\n      this.submitSearch(event.target.value);\r\n    }\r\n  };\r\n\r\n  clearSearchResults() {\r\n    this.submitSearch(\"default\");\r\n  }\r\n\r\n  submitNoResults() {\r\n    this.setState({\r\n      searchResults: [\r\n        { title: \"Oh no :(\", desc: \"No results for this query, try again!\" }\r\n      ]\r\n    });\r\n  }\r\n\r\n  /**\r\n   * update search results when 'favorites' stars clicked\r\n   * remove the entries that don't need to be updated, update the state, then update back to original\r\n   */\r\n  update = () => {\r\n    const loadFavorites = LocalStorage.obtain(\"favorites\");\r\n    const currentResults = [...this.state.searchResults];\r\n    const updatedResults = [];\r\n\r\n    currentResults.forEach(entry => {\r\n      let toUpdate = true;\r\n\r\n      loadFavorites.forEach(storedEntry => {\r\n        if (storedEntry.title.localeCompare(entry.title) === 0) {\r\n          toUpdate = false;\r\n        }\r\n      });\r\n\r\n      if (toUpdate === false) {\r\n        updatedResults.push(entry);\r\n      }\r\n    });\r\n\r\n    this.setState({ searchResults: updatedResults }, () =>\r\n      this.setState({ searchResults: currentResults })\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className={styles.row}>\r\n          <input\r\n            value={this.state.input}\r\n            onKeyDown={this.keyPress}\r\n            onChange={this.handleChange}\r\n            className={`${styles.column} ${styles.left}`}\r\n            type=\"text\"\r\n            placeholder=\"Search...\"\r\n            name=\"search\"\r\n          />\r\n          <button\r\n            className={`${styles.column} ${styles.right}`}\r\n            onClick={() => this.submitSearch(this.state.input)}\r\n          >\r\n            <i className=\"fa fa-search fa-2x\" />\r\n          </button>\r\n        </div>\r\n        <SearchResults\r\n          searchResults={this.state.searchResults}\r\n          update={this.update}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n","import React from \"react\";\r\nimport Body from \"../components/Body\";\r\nimport Header from \"../components/header\";\r\nimport SearchBar from \"../components/SearchBar\";\r\nimport { graphql } from \"gatsby\";\r\nimport WasteWizardDataManager from \"../utils/dataManager\";\r\n\r\nexport default ({ data }) => (\r\n  <div>\r\n    {WasteWizardDataManager.mapWasteWizardKeywords(data)}\r\n    <Header>Toronto Waste Lookup</Header>\r\n    <Body>\r\n      <SearchBar />\r\n    </Body>\r\n  </div>\r\n);\r\n\r\nexport const query = graphql`\r\n  query {\r\n    allWastewizardJson {\r\n      edges {\r\n        node {\r\n          title\r\n          category\r\n          body\r\n          keywords\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header-module--header--30i_J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"column\":\"search-module--column--3yJ04\",\"left\":\"search-module--left--G7MM0\",\"right\":\"search-module--right--3Wo8q\",\"row\":\"search-module--row--3jsJW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"searchResults-module--container--2Y6Jy\",\"column\":\"searchResults-module--column--1OLTj\",\"star\":\"searchResults-module--star--YeSYK\",\"left\":\"searchResults-module--left--2iYOe\",\"right\":\"searchResults-module--right--3MtYu\",\"row\":\"searchResults-module--row--1DRXF\"};"],"sourceRoot":""}